!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var i=n(1);document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("#mandala-canvas");t.height=700,t.width=700,t.style.border="solid black";var e=t.getContext("2d");new i(e).init()})},function(t,e,n){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=n(2),o=n(3),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.isDrawing=!1,this.prevX=0,this.prevY=0,this.currX=0,this.currY=0,this.slices=24,this.angles=360/this.slices,this.start=0,this.radius=e.canvas.width/2,this.center={x:e.canvas.width/2,y:e.canvas.height/2},this.color="white",this.weight=1,this.stack=[]}var e,n,a;return e=t,(n=[{key:"radConverter",value:function(t){return t*Math.PI/180}},{key:"findCoords",value:function(t,e,n){var i=this.radConverter(t);return{x:e.x+n*Math.cos(i),y:e.y+n*Math.sin(i)}}},{key:"rotate",value:function(t,e,n){return n=this.radConverter(n),{x:(t.x-e.x)*Math.cos(n)-(t.y-e.y)*Math.sin(n)+e.x,y:(t.x-e.x)*Math.sin(n)+(t.y-e.y)*Math.cos(n)+e.y}}},{key:"drawLine",value:function(t,e,n,i,r){n&&(this.ctx.lineWidth=this.weight,this.ctx.lineJoin="round",this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.closePath(),this.ctx.stroke())}},{key:"draw",value:function(){this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.weight,this.ctx.moveTo(this.prevX,this.prevY),this.ctx.lineTo(this.currX,this.currY),this.ctx.stroke(),this.ctx.closePath(),this.start=0;for(var t=0;t<this.slices-1;t++){this.start+=this.angles;var e=this.rotate({x:this.prevX,y:this.prevY},this.center,this.start),n=this.rotate({x:this.currX,y:this.currY},this.center,this.start);this.drawLine(e,n,this.isDrawing,this.color,this.weight)}}},{key:"findxy",value:function(t,e){var n=this.ctx.canvas.getBoundingClientRect();"down"==t&&(this.prevX=this.currX,this.prevY=this.currY,this.currX=e.clientX-n.left,this.currY=e.clientY-n.top,this.isDrawing=!0),"up"!=t&&"out"!=t||(this.isDrawing=!1),"move"==t&&this.isDrawing&&(this.prevX=this.currX,this.prevY=this.currY,this.currX=e.clientX-n.left,this.currY=e.clientY-n.top,this.draw()),"touchdown"==t&&(this.prevX=this.currX,this.prevY=this.currY,this.currX=e.touches[0].clientX-n.left,this.currY=e.touches[0].clientY-n.top,this.isDrawing=!0),"touchend"!=t&&"touchcan"!=t||(this.isDrawing=!1),"touchmove"==t&&this.isDrawing&&(this.prevX=this.currX,this.prevY=this.currY,this.currX=e.touches[0].clientX-n.left,this.currY=e.touches[0].clientY-n.top,this.draw())}},{key:"init",value:function(){var t=new r(this),e=new o(this);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),t.mouseTrigger(),e.toolboxEvents()}}])&&i(e.prototype,n),a&&i(e,a),t}();t.exports=a},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=e,this.canvas=e.ctx.canvas}var e,i,r;return e=t,(i=[{key:"mousePos",value:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}},{key:"mouseDown",value:function(t){var e=this;this.canvas.addEventListener("mousedown",function(t){e.board.findxy("down",t)})}},{key:"touchDown",value:function(t){var e=this;this.canvas.addEventListener("touchstart",function(t){1===t.touches.length&&t.preventDefault(),e.board.findxy("touchdown",t)})}},{key:"mouseMove",value:function(t){var e=this;this.canvas.addEventListener("mousemove",function(t){e.board.findxy("move",t)})}},{key:"touchMove",value:function(t){var e=this;this.canvas.addEventListener("touchmove",function(t){1===t.touches.length&&t.preventDefault(),e.board.findxy("touchmove",t)})}},{key:"mouseUp",value:function(t){var e=this;this.canvas.addEventListener("mouseup",function(t){e.board.findxy("up",t)}),this.canvas.addEventListener("mouseout",function(t){e.board.findxy("out",t)})}},{key:"touchUp",value:function(t){var e=this;this.canvas.addEventListener("touchend",function(t){1===t.touches.length&&t.preventDefault(),e.board.findxy("touchend",t)}),this.canvas.addEventListener("touchcancel",function(t){1===t.touches.length&&t.preventDefault(),e.board.findxy("touchcan",t)})}},{key:"mouseTrigger",value:function(t){this.mouseDown(t),this.mouseMove(t),this.mouseUp(t),this.touchDown(t),this.touchMove(t),this.touchUp(t)}}])&&n(e.prototype,i),r&&n(e,r),t}();t.exports=i},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=e}var e,i,r;return e=t,(i=[{key:"clearBoard",value:function(){var t=this;document.querySelector("#clear-button").addEventListener("click",function(e){t.board.init()})}},{key:"saveBoard",value:function(){var t=this;document.querySelector("#save-button").addEventListener("click",function(e){var n={mandala:t.board.ctx.canvas.toDataURL()},i=JSON.stringify(n),r=new Blob([i],{type:"application/json"});t.board.stack.push(r)})}},{key:"restoreBoard",value:function(){var t=this;document.querySelector("#restore-button").addEventListener("click",function(e){var n=new FileReader,i=t.board.stack[t.board.stack.length-2];void 0!==i&&(t.board.stack[0]&&(t.board.stack.pop(),n.readAsText(i),n.onload=function(){var e=JSON.parse(n.result),i=new Image;i.src=e.mandala,i.onload=function(){t.board.ctx.clearRect(0,0,t.board.ctx.canvas.width,t.board.ctx.canvas.height),t.board.ctx.drawImage(i,0,0)}}),0===t.board.stack.length&&t.board.stack.push(i))})}},{key:"changeColor",value:function(){var t=this;document.querySelector(".line-color-dropdown").addEventListener("change",function(e){t.board.color=e.target.value})}},{key:"changeLineWeight",value:function(){var t=this;document.querySelector(".line-weight-dropdown").addEventListener("change",function(e){t.board.weight=e.target.value})}},{key:"changeSlices",value:function(){var t=this;document.querySelector(".slices-dropdown").addEventListener("change",function(e){t.board.slices=parseInt(e.target.value),t.board.angles=360/t.board.slices})}},{key:"toolboxEvents",value:function(){this.clearBoard(),this.saveBoard(),this.restoreBoard(),this.changeColor(),this.changeLineWeight(),this.changeSlices()}}])&&n(e.prototype,i),r&&n(e,r),t}();t.exports=i}]);
//# sourceMappingURL=bundle.js.map